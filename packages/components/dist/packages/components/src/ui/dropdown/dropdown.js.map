{"version":3,"file":"dropdown.js","sources":["../../../../../../src/ui/dropdown/dropdown.tsx"],"sourcesContent":["import { __assign, __read, __rest } from \"tslib\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { Children, isValidElement, useState, useCallback, } from \"react\";\r\nimport classnames from \"clsx\";\r\nimport { useClickOutside } from \"@doar/shared/hooks\";\r\nimport { StyledDropdown } from \"./style\";\r\nvar Dropdown = function (_a) {\r\n    var children = _a.children, direction = _a.direction, className = _a.className, restProps = __rest(_a, [\"children\", \"direction\", \"className\"]);\r\n    var _b = __read(useState(false), 2), show = _b[0], setShow = _b[1];\r\n    var handleClick = function () {\r\n        setShow(function (prev) { return !prev; });\r\n    };\r\n    var onClose = useCallback(function () {\r\n        setShow(false);\r\n    }, []);\r\n    var containerRef = useClickOutside(onClose);\r\n    var RenderChild = Children.map(children, function (el) {\r\n        if (!isValidElement(el))\r\n            return el;\r\n        var child = el;\r\n        if (child !== null) {\r\n            var childType = child.type;\r\n            var name_1 = childType.displayName || childType.name;\r\n            if (name_1 === \"DropdownToggle\") {\r\n                return _jsx(child.type, __assign({}, child.props, { onClick: handleClick }));\r\n            }\r\n            if (name_1 === \"DropdownMenu\") {\r\n                return (_jsx(child.type, __assign({}, child.props, { direction: direction, show: show })));\r\n            }\r\n        }\r\n        return null;\r\n    });\r\n    return (_jsx(StyledDropdown, __assign({}, restProps, { className: classnames(className, \"dropdown\"), ref: containerRef }, { children: RenderChild })));\r\n};\r\nDropdown.defaultProps = {\r\n    direction: \"down\",\r\n};\r\nexport default Dropdown;\r\n"],"names":["Dropdown","_a","children","direction","className","restProps","__rest","_b","__read","useState","show","setShow","handleClick","prev","onClose","useCallback","containerRef","useClickOutside","RenderChild","Children","map","el","isValidElement","child","childType","type","name_1","displayName","name","_jsx","__assign","props","onClick","StyledDropdown","classnames","ref","defaultProps"],"mappings":"mVAMA,IAAIA,EAAW,SAAUC,GACrB,IAAIC,EAAWD,EAAGC,SAAUC,EAAYF,EAAGE,UAAWC,EAAYH,EAAGG,UAAWC,EAAYC,EAAOL,EAAI,CAAC,WAAY,YAAa,cAC7HM,EAAKC,EAAOC,GAAS,GAAQ,GAAIC,EAAOH,EAAG,GAAII,EAAUJ,EAAG,GAC5DK,EAAc,WACdD,GAAQ,SAAUE,GAAQ,OAAQA,CAAO,KAEzCC,EAAUC,GAAY,WACtBJ,GAAQ,EADa,GAEtB,IACCK,EAAeC,EAAgBH,GAC/BI,EAAcC,EAASC,IAAIlB,GAAU,SAAUmB,GAC/C,IAAKC,EAAeD,GAChB,OAAOA,EACX,IAAIE,EAAQF,EACZ,GAAc,OAAVE,EAAgB,CAChB,IAAIC,EAAYD,EAAME,KAClBC,EAASF,EAAUG,aAAeH,EAAUI,KAChD,GAAe,mBAAXF,EACA,OAAOG,EAAKN,EAAME,KAAMK,EAAS,CAAD,EAAKP,EAAMQ,MAAO,CAAEC,QAASpB,KAEjE,GAAe,iBAAXc,EACA,OAAQG,EAAKN,EAAME,KAAMK,EAAS,CAAD,EAAKP,EAAMQ,MAAO,CAAE5B,UAAWA,EAAWO,KAAMA,IAExF,CACD,OAAO,IACV,IACD,OAAQmB,EAAKI,EAAgBH,EAAS,CAAA,EAAIzB,EAAW,CAAED,UAAW8B,EAAW9B,EAAW,YAAa+B,IAAKnB,GAAgB,CAAEd,SAAUgB,IACzI,EACDlB,EAASoC,aAAe,CACpBjC,UAAW"}