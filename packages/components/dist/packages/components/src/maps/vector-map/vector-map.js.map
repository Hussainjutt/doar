{"version":3,"file":"vector-map.js","sources":["../../../../../../src/maps/vector-map/vector-map.tsx"],"sourcesContent":["import { __assign, __read, __spreadArray } from \"tslib\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\n/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { useState, useEffect } from \"react\";\r\nimport { VectorMap as VectorMapComponent } from \"@south-paw/react-vector-maps\";\r\nimport worldLowRes from \"@doar/shared/data/maps/world-low-res.json\";\r\nimport { StyledMap } from \"./style\";\r\nvar VectorMap = function (_a) {\r\n    var width = _a.width, height = _a.height, backgroundColor = _a.backgroundColor, borderColor = _a.borderColor, color = _a.color, checkedLayers = _a.checkedLayers, selectedColor = _a.selectedColor, tooltip = _a.tooltip, _b = _a.data, data = _b === void 0 ? worldLowRes : _b;\r\n    var _c = __read(useState([]), 2), selected = _c[0], setSelected = _c[1];\r\n    var _d = __read(useState(), 2), tooltipeName = _d[0], setTooltipeName = _d[1];\r\n    var _e = __read(useState(false), 2), isTooltipVisible = _e[0], setIsTooltipVisible = _e[1];\r\n    var _f = __read(useState(0), 2), tooltipY = _f[0], setTooltipY = _f[1];\r\n    var _g = __read(useState(0), 2), tooltipX = _g[0], setTooltipX = _g[1];\r\n    var onClick = function (e) {\r\n        var _a;\r\n        var target = e.target;\r\n        var id = (_a = target.attributes) === null || _a === void 0 ? void 0 : _a.id.value;\r\n        if (selected.includes(id)) {\r\n            setSelected(selected.filter(function (sid) { return sid !== id; }));\r\n        }\r\n        else {\r\n            setSelected(__spreadArray(__spreadArray([], __read(selected), false), [id], false));\r\n        }\r\n    };\r\n    var onMouseOver = function (e) {\r\n        var _a;\r\n        var target = e.target;\r\n        var name = (_a = target.attributes) === null || _a === void 0 ? void 0 : _a.name.value;\r\n        setTooltipeName(name);\r\n        setIsTooltipVisible(true);\r\n    };\r\n    var onMouseMove = function (e) {\r\n        setTooltipY(e.clientY - 20);\r\n        setTooltipX(e.clientX - 10);\r\n    };\r\n    var onMouseOut = function () {\r\n        setTooltipeName(\"\");\r\n        setIsTooltipVisible(false);\r\n    };\r\n    useEffect(function () {\r\n        if (!checkedLayers)\r\n            return;\r\n        setSelected(__spreadArray([], __read(checkedLayers), false));\r\n    }, [checkedLayers]);\r\n    return (_jsxs(StyledMap, __assign({ width: width, height: height, \"$bg\": backgroundColor, \"$bdc\": borderColor, \"$color\": color, \"$slColor\": selectedColor, className: \"vector-map\" }, { children: [_jsx(VectorMapComponent, __assign({}, data, { checkedLayers: selected, layerProps: { onClick: onClick, onMouseOver: onMouseOver, onMouseOut: onMouseOut, onMouseMove: onMouseMove } })), tooltip && isTooltipVisible && (_jsx(\"div\", __assign({ className: \"tooltip\", style: { top: tooltipY, left: tooltipX } }, { children: tooltipeName })))] })));\r\n};\r\nVectorMap.defaultProps = {\r\n    backgroundColor: \"transparent\",\r\n    borderColor: \"#fff\",\r\n    color: \"#8392a5\",\r\n    selectedColor: \"rgba(56, 43, 168, 1)\",\r\n    width: \"90%\",\r\n    height: \"500px\",\r\n    tooltip: false,\r\n};\r\nexport default VectorMap;\r\n"],"names":["VectorMap","_a","width","height","backgroundColor","borderColor","color","checkedLayers","selectedColor","tooltip","_b","data","worldLowRes","_c","__read","useState","selected","setSelected","_d","tooltipeName","setTooltipeName","_e","isTooltipVisible","setIsTooltipVisible","_f","tooltipY","setTooltipY","_g","tooltipX","setTooltipX","useEffect","__spreadArray","_jsxs","StyledMap","__assign","$bg","$bdc","$color","$slColor","className","children","_jsx","VectorMapComponent","layerProps","onClick","e","id","target","attributes","value","includes","filter","sid","onMouseOver","name","onMouseOut","onMouseMove","clientY","clientX","style","top","left","defaultProps"],"mappings":"oWAOA,IAAIA,EAAY,SAAUC,GACtB,IAAIC,EAAQD,EAAGC,MAAOC,EAASF,EAAGE,OAAQC,EAAkBH,EAAGG,gBAAiBC,EAAcJ,EAAGI,YAAaC,EAAQL,EAAGK,MAAOC,EAAgBN,EAAGM,cAAeC,EAAgBP,EAAGO,cAAeC,EAAUR,EAAGQ,QAASC,EAAKT,EAAGU,KAAMA,OAAc,IAAPD,EAAgBE,EAAcF,EACzQG,EAAKC,EAAOC,EAAS,IAAK,GAAIC,EAAWH,EAAG,GAAII,EAAcJ,EAAG,GACjEK,EAAKJ,EAAOC,IAAY,GAAII,EAAeD,EAAG,GAAIE,EAAkBF,EAAG,GACvEG,EAAKP,EAAOC,GAAS,GAAQ,GAAIO,EAAmBD,EAAG,GAAIE,EAAsBF,EAAG,GACpFG,EAAKV,EAAOC,EAAS,GAAI,GAAIU,EAAWD,EAAG,GAAIE,EAAcF,EAAG,GAChEG,EAAKb,EAAOC,EAAS,GAAI,GAAIa,EAAWD,EAAG,GAAIE,EAAcF,EAAG,GAgCpE,OALAG,GAAU,WACDvB,GAELU,EAAYc,EAAc,GAAIjB,EAAOP,IAAgB,GACxD,GAAE,CAACA,IACIyB,EAAMC,EAAWC,EAAS,CAAEhC,MAAOA,EAAOC,OAAQA,EAAQgC,IAAO/B,EAAiBgC,KAAQ/B,EAAagC,OAAU/B,EAAOgC,SAAY9B,EAAe+B,UAAW,cAAgB,CAAEC,SAAU,CAACC,EAAKC,EAAoBR,EAAS,CAAA,EAAIvB,EAAM,CAAEJ,cAAeS,EAAU2B,WAAY,CAAEC,QA/B1Q,SAAUC,GACpB,IAAI5C,EAEA6C,EAAkC,QAA5B7C,EADG4C,EAAEE,OACOC,kBAA+B,IAAP/C,OAAgB,EAASA,EAAG6C,GAAGG,MACzEjC,EAASkC,SAASJ,GAClB7B,EAAYD,EAASmC,QAAO,SAAUC,GAAO,OAAOA,IAAQN,CAAhD,KAGZ7B,EAAYc,EAAcA,EAAc,GAAIjB,EAAOE,IAAW,GAAQ,CAAC8B,IAAK,KAuBsNO,YApBxR,SAAUR,GACxB,IAAI5C,EAEAqD,EAAoC,QAA5BrD,EADC4C,EAAEE,OACSC,kBAA+B,IAAP/C,OAAgB,EAASA,EAAGqD,KAAKL,MACjF7B,EAAgBkC,GAChB/B,GAAoB,IAe4SgC,WATnT,WACbnC,EAAgB,IAChBG,GAAoB,IAOoUiC,YAb1U,SAAUX,GACxBnB,EAAYmB,EAAEY,QAAU,IACxB5B,EAAYgB,EAAEa,QAAU,SAWgWjD,GAAWa,GAAqBmB,EAAK,MAAOP,EAAS,CAAEK,UAAW,UAAWoB,MAAO,CAAEC,IAAKnC,EAAUoC,KAAMjC,IAAc,CAAEY,SAAUrB,QACpgB,EACDnB,EAAU8D,aAAe,CACrB1D,gBAAiB,cACjBC,YAAa,OACbC,MAAO,UACPE,cAAe,uBACfN,MAAO,MACPC,OAAQ,QACRM,SAAS"}